var NetworkObject=function(){};NetworkObject.prototype.toMsgPackObject=function(l){l=msgpack.serialize(l);return $.base64.btoa(byteArrayToString(l))};NetworkObject.prototype.fromMsgPackObject=function(l){l=l.replace(/(\r\n|\n|\r|\\n)/gm,"");l=stringToByteArray($.base64.atob(l));return msgpack.deserialize(l)};function strTohex(l){for(var n="",h=0;h<l.length;h++)n+=""+l.charCodeAt(h).toString(16);return n}
function byteArrayToString(l){for(var n="",h=0;h<l.length;++h)n+=String.fromCharCode(l[h]);return n}function stringToByteArray(l){for(var n=[],h=0;h<l.length;++h)n.push(l.charCodeAt(h));return n}
(function(){function l(k){switch(k){case "undefined":return!0;case "boolean":return!0;case "number":return!0;case "string":return!0}return!1}function n(k){function h(a,f){switch(typeof a){case "undefined":m(192);break;case "boolean":m(a?195:194);break;case "number":if(isFinite(a)&&Math.floor(a)===a)if(0<=a&&127>=a)m(a);else if(0>a&&-32<=a)m(a);else if(0<a&&255>=a)d([204,a]);else if(-128<=a&&127>=a)d([208,a]);else if(0<a&&65535>=a)d([205,a>>>8,a]);else if(-32768<=a&&32767>=a)d([209,a>>>8,a]);else if(0<
a&&4294967295>=a)d([206,a>>>24,a>>>16,a>>>8,a]);else if(-2147483648<=a&&2147483647>=a)d([210,a>>>24,a>>>16,a>>>8,a]);else if(0<a&&1.8446744073709552E19>=a){var e=a/4294967296,c=a%4294967296;d([211,e>>>24,e>>>16,e>>>8,e,c>>>24,c>>>16,c>>>8,c])}else-9223372036854775808<=a&&0x7fffffffffffffff>=a?(m(211),w(a)):0>a?d([211,128,0,0,0,0,0,0,0]):d([207,255,255,255,255,255,255,255,255]);else u||(v=new ArrayBuffer(8),u=new DataView(v)),u.setFloat64(0,a),m(203),d(new Uint8Array(v));break;case "string":e=!0;c=
a.length;for(var b=0;b<c;b++)if(127<a.charCodeAt(b)){e=!1;break}b=0;for(var g=new Uint8Array(a.length*(e?1:4)),t=0;t!==c;t++){var r=a.charCodeAt(t);if(128>r)g[b++]=r;else{if(2048>r)g[b++]=r>>6|192;else{if(55295<r&&56320>r){if(++t>=c)throw Error("UTF-8 encode: incomplete surrogate pair");var k=a.charCodeAt(t);if(56320>k||57343<k)throw Error("UTF-8 encode: second surrogate character 0x"+k.toString(16)+" at index "+t+" out of range");r=65536+((r&1023)<<10)+(k&1023);g[b++]=r>>18|240;g[b++]=r>>12&63|128}else g[b++]=
r>>12|224;g[b++]=r>>6&63|128}g[b++]=r&63|128}}e=e?g:g.subarray(0,b);c=e.length;31>=c?m(160+c):255>=c?d([217,c]):65535>=c?d([218,c>>>8,c]):d([219,c>>>24,c>>>16,c>>>8,c]);d(e);break;case "object":if(null===a)m(192);else if(a instanceof Date)e=a.getTime()/1E3,0===a.getMilliseconds()&&0<=e&&4294967296>e?d([214,255,e>>>24,e>>>16,e>>>8,e]):0<=e&&17179869184>e?(c=1E6*a.getMilliseconds(),d([215,255,c>>>22,c>>>14,c>>>6,c<<2>>>0|e/4294967296,e>>>24,e>>>16,e>>>8,e])):(c=1E6*a.getMilliseconds(),d([199,12,255,
c>>>24,c>>>16,c>>>8,c]),w(e));else if(Array.isArray(a))n(a);else if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)e=a.length,15>=e?d([196,e]):65535>=e?d([197,e>>>8,e]):d([198,e>>>24,e>>>16,e>>>8,e]),d(a);else if(a instanceof Int8Array||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)n(a);else{b=0;for(g in a)"function"!==typeof a[g]&&b++;15>=b?m(128+b):65535>=b?d([222,b>>>8,b]):d([223,
b>>>24,b>>>16,b>>>8,b]);b=0;for(e in a)"function"!==typeof a[e]&&(f?(f[b]!=e&&console.log("PackReflectionEntry type: "+a.constructor.name+" key pack error "+f[b]+" "+e),b++):h(e));for(c in a)"function"!==typeof a[c]&&h(a[c],f)}}}function n(a){for(var f=a.length,e=null,c="",b=null,g=0;g<f;g++)b=a[g];if(b&&!l(typeof b)){e=[];g=0;for(var t in b)e[g]=t,0<c.length&&(c+=","),c+=t,g++}b=f+2;15>=b?m(144+b):65535>=b?d([220,b>>>8,b]):d([221,b>>>24,b>>>16,b>>>8,b]);0==c.length&&(c=null);h(c);m(192);for(c=0;c<
f;c++)h(a[c],e)}function m(a){if(q.length<p+1){for(var f=2*q.length;f<p+1;)f*=2;f=new Uint8Array(f);f.set(q);q=f}q[p]=a;p++}function d(a){if(q.length<p+a.length){for(var f=2*q.length;f<p+a.length;)f*=2;f=new Uint8Array(f);f.set(q);q=f}q.set(a,p);p+=a.length}function w(a){if(0<=a){var f=a/4294967296;a%=4294967296}else a++,f=Math.abs(a)/4294967296,a=Math.abs(a)%4294967296,f=~f,a=~a;d([f>>>24,f>>>16,f>>>8,f,a>>>24,a>>>16,a>>>8,a])}var v,u,q=new Uint8Array(128),p=0;h(k.constructor.name,null);h(k,null);
return q.subarray(0,p)}function h(k){function h(c){var b=k[a++];if(0<=b&&127>=b)return b;if(128<=b&&143>=b)return v(b-128,null,c);if(144<=b&&159>=b)return u(b-144,null,c);if(160<=b&&191>=b)return q(b-160);if(192===b)return null;if(193===b)throw Error("Invalid byte code 0xc1 found.");if(194===b)return!1;if(195===b)return!0;if(196===b)return n(-1,1);if(197===b)return n(-1,2);if(198===b)return n(-1,4);if(199===b)return p(-1,1);if(200===b)return p(-1,2);if(201===b)return p(-1,4);if(202===b)return d(4);
if(203===b)return d(8);if(204===b)return m(1);if(205===b)return m(2);if(206===b)return m(4);if(207===b)return m(8);if(208===b)return l(1);if(209===b)return l(2);if(210===b)return l(4);if(211===b)return l(8);if(212===b)return p(1);if(213===b)return p(2);if(214===b)return p(4);if(215===b)return p(8);if(216===b)return p(16);if(217===b)return q(-1,1);if(218===b)return q(-1,2);if(219===b)return q(-1,4);if(220===b)return u(-1,2,c);if(221===b)return u(-1,4,c);if(222===b)return v(-1,2,c);if(223===b)return v(-1,
4,c);if(224<=b&&255>=b)return b-256;console.debug("msgpack array:",k);throw Error("Invalid byte value '"+b+"' at index "+(a-1)+" in the MessagePack binary data (length "+k.length+"): Expecting a range of 0 to 255. This is not a byte array.");}function l(c){for(var b=0,g=!0;0<c--;)g?(g=k[a++],b+=g&127,g&128&&(b-=128),g=!1):(b*=256,b+=k[a++]);return b}function m(c){for(var b=0;0<c--;)b*=256,b+=k[a++];return b}function d(c){var b=new DataView(k.buffer,a,c);a+=c;if(4===c)return b.getFloat32(0,!1);if(8===
c)return b.getFloat64(0,!1)}function n(c,b){0>c&&(c=m(b));var g=k.subarray(a,a+c);a+=c;return g}function v(a,b,g){0>a&&(a=m(b));if(g)a!=g.length&&console.log("readMap error   key pack error "+a," "+g.length+" objectFieldKeys: "+g);else for(g=[],b=0;b<a;b++)g[b]=h();b=0;for(var c={};0<a--;)c[g[b]]=h(null),b++;return c}function u(a,b,g){0>a&&(a=m(b));a-=2;(b=h(null))&&(g=b.split(","));h(null);for(b=[];0<a--;)b.push(h(g));return b}function q(c,b){0>c&&(c=m(b));var g=a;a+=c;var e=k,f=g,h="";for(g=c+g;f<
g;){var d=e[f++];if(127<d)if(191<d&&224>d){if(f>=g)throw Error("UTF-8 decode: incomplete 2-byte sequence");d=(d&31)<<6|e[f++]&63}else if(223<d&&240>d){if(f+1>=g)throw Error("UTF-8 decode: incomplete 3-byte sequence");d=(d&15)<<12|(e[f++]&63)<<6|e[f++]&63}else if(239<d&&248>d){if(f+2>=g)throw Error("UTF-8 decode: incomplete 4-byte sequence");d=(d&7)<<18|(e[f++]&63)<<12|(e[f++]&63)<<6|e[f++]&63}else throw Error("UTF-8 decode: unknown multibyte start 0x"+d.toString(16)+" at index "+(f-1));if(65535>=
d)h+=String.fromCharCode(d);else if(1114111>=d)d-=65536,h+=String.fromCharCode(d>>10|55296),h+=String.fromCharCode(d&1023|56320);else throw Error("UTF-8 decode: code point 0x"+d.toString(16)+" exceeds UTF-16 reach");}return h}function p(c,b){0>c&&(c=m(b));var e=m(1),d=n(c);switch(e){case 255:if(4===d.length)e=new Date(1E3*((d[0]<<24>>>0)+(d[1]<<16>>>0)+(d[2]<<8>>>0)+d[3]));else if(8===d.length)e=new Date(1E3*(4294967296*(d[3]&3)+(d[4]<<24>>>0)+(d[5]<<16>>>0)+(d[6]<<8>>>0)+d[7])+((d[0]<<22>>>0)+(d[1]<<
14>>>0)+(d[2]<<6>>>0)+(d[3]>>>2))/1E6);else if(12===d.length)e=(d[0]<<24>>>0)+(d[1]<<16>>>0)+(d[2]<<8>>>0)+d[3],a-=8,d=l(8),e=new Date(1E3*d+e/1E6);else throw Error("Invalid data length for a date value.");return e}return{type:e,data:d}}var a=0;k instanceof ArrayBuffer&&(k=new Uint8Array(k));if("object"!==typeof k||"undefined"===typeof k.length)throw Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!k.length)throw Error("Invalid argument: The byte array to deserialize is empty.");
k instanceof Uint8Array||(k=new Uint8Array(k));var f=h(),e=h();e.GetClassName=f;return e}var x={serialize:n,deserialize:h,encode:n,decode:h};"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=x:window[window.msgpackJsName||"msgpack"]=x})();